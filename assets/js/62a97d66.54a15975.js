"use strict";(globalThis.webpackChunkdatabasement_docs=globalThis.webpackChunkdatabasement_docs||[]).push([[356],{8453:(e,s,n)=>{n.d(s,{R:()=>t,x:()=>c});var a=n(6540);const r={},i=a.createContext(r);function t(e){const s=a.useContext(i);return a.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),a.createElement(i.Provider,{value:s},e.children)}},9629:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>c,default:()=>u,frontMatter:()=>t,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"user-guide/backups","title":"Backups","description":"Databasement allows you to create on-demand backups of your databases. Backups are processed asynchronously, so you can continue using the application while they run.","source":"@site/docs/user-guide/backups.md","sourceDirName":"user-guide","slug":"/user-guide/backups","permalink":"/databasement/user-guide/backups","draft":false,"unlisted":false,"editUrl":"https://github.com/David-Crty/databasement/tree/main/docs/docs/user-guide/backups.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"userGuideSidebar","previous":{"title":"Database Servers","permalink":"/databasement/user-guide/database-servers"},"next":{"title":"Snapshots","permalink":"/databasement/user-guide/snapshots"}}');var r=n(4848),i=n(8453);const t={sidebar_position:3},c="Backups",l={},d=[{value:"Creating a Backup",id:"creating-a-backup",level:2},{value:"Manual Backup",id:"manual-backup",level:3},{value:"How Backups Work",id:"how-backups-work",level:2},{value:"Backup Commands",id:"backup-commands",level:3},{value:"Backup Status",id:"backup-status",level:2},{value:"Monitoring Backups",id:"monitoring-backups",level:2},{value:"Failed Backups",id:"failed-backups",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"Before Production Backups",id:"before-production-backups",level:3},{value:"Backup Sizing",id:"backup-sizing",level:3},{value:"Security Considerations",id:"security-considerations",level:3}];function o(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"backups",children:"Backups"})}),"\n",(0,r.jsx)(s.p,{children:"Databasement allows you to create on-demand backups of your databases. Backups are processed asynchronously, so you can continue using the application while they run."}),"\n",(0,r.jsx)(s.h2,{id:"creating-a-backup",children:"Creating a Backup"}),"\n",(0,r.jsx)(s.h3,{id:"manual-backup",children:"Manual Backup"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["Go to ",(0,r.jsx)(s.strong,{children:"Database Servers"})]}),"\n",(0,r.jsx)(s.li,{children:"Find the server you want to backup"}),"\n",(0,r.jsxs)(s.li,{children:["Click ",(0,r.jsx)(s.strong,{children:"Backup"})]}),"\n",(0,r.jsx)(s.li,{children:"Select the target database (or leave empty for all databases)"}),"\n",(0,r.jsx)(s.li,{children:"Choose a storage volume for the backup"}),"\n",(0,r.jsxs)(s.li,{children:["Click ",(0,r.jsx)(s.strong,{children:"Start Backup"})]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["The backup will be queued and processed in the background. You can monitor progress on the ",(0,r.jsx)(s.strong,{children:"Snapshots"})," page."]}),"\n",(0,r.jsx)(s.h2,{id:"how-backups-work",children:"How Backups Work"}),"\n",(0,r.jsx)(s.p,{children:"When you create a backup, Databasement:"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsx)(s.li,{children:"Connects to the database server"}),"\n",(0,r.jsxs)(s.li,{children:["Runs the appropriate dump command (",(0,r.jsx)(s.code,{children:"mysqldump"})," or ",(0,r.jsx)(s.code,{children:"pg_dump"}),")"]}),"\n",(0,r.jsx)(s.li,{children:"Compresses the output with gzip"}),"\n",(0,r.jsx)(s.li,{children:"Transfers the compressed file to the selected storage volume"}),"\n",(0,r.jsx)(s.li,{children:"Creates a snapshot record with metadata"}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"backup-commands",children:"Backup Commands"}),"\n",(0,r.jsx)(s.p,{children:"Databasement uses native database tools for reliable backups:"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"MySQL / MariaDB:"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"mysqldump --single-transaction --routines --triggers --events database_name\n"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"PostgreSQL:"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"pg_dump --format=plain database_name\n"})}),"\n",(0,r.jsx)(s.h2,{id:"backup-status",children:"Backup Status"}),"\n",(0,r.jsx)(s.p,{children:"Each backup (snapshot) has a status:"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Status"}),(0,r.jsx)(s.th,{children:"Description"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Pending"})}),(0,r.jsx)(s.td,{children:"Backup is queued, waiting to be processed"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"In Progress"})}),(0,r.jsx)(s.td,{children:"Backup is currently running"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Completed"})}),(0,r.jsx)(s.td,{children:"Backup finished successfully"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Failed"})}),(0,r.jsx)(s.td,{children:"Backup encountered an error"})]})]})]}),"\n",(0,r.jsx)(s.h2,{id:"monitoring-backups",children:"Monitoring Backups"}),"\n",(0,r.jsxs)(s.p,{children:["View all backup jobs on the ",(0,r.jsx)(s.strong,{children:"Snapshots"})," page. You can see:"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Source server and database"}),"\n",(0,r.jsx)(s.li,{children:"Backup timestamp"}),"\n",(0,r.jsx)(s.li,{children:"File size"}),"\n",(0,r.jsx)(s.li,{children:"Storage volume"}),"\n",(0,r.jsx)(s.li,{children:"Status"}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"failed-backups",children:"Failed Backups"}),"\n",(0,r.jsx)(s.p,{children:"If a backup fails, check:"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Database connectivity"}),": Can Databasement still connect to the server?"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Disk space"}),": Is there enough space on the storage volume?"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Permissions"}),": Does the database user have backup privileges?"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Timeout"}),": Large databases may need more time"]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"Failed backup reasons are logged and visible in the snapshot details."}),"\n",(0,r.jsx)(s.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsx)(s.h3,{id:"before-production-backups",children:"Before Production Backups"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Test the connection"})," before creating backups"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Verify restore"})," by testing a restore to a development server"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Monitor disk space"})," on your storage volumes"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"backup-sizing",children:"Backup Sizing"}),"\n",(0,r.jsx)(s.p,{children:"Compressed backup sizes vary, but as a rough guide:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"A 1GB database typically compresses to 100-300MB"}),"\n",(0,r.jsx)(s.li,{children:"Text-heavy data compresses better than binary data"}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"security-considerations",children:"Security Considerations"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Use dedicated backup users with minimal required privileges"}),"\n",(0,r.jsx)(s.li,{children:"Store backups in secure, encrypted storage when possible"}),"\n",(0,r.jsx)(s.li,{children:"Regularly test your restore process"}),"\n"]})]})}function u(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}}}]);